<!DOCTYPE html>
<html>
<head>
  <title>Interactions</title>

  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <meta name="generator" content="pandoc" />




  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">

  <base target="_blank">

  <script type="text/javascript">
    var SLIDE_CONFIG = {
      // Slide settings
      settings: {
                title: 'Interactions',
                        useBuilds: true,
        usePrettify: true,
        enableSlideAreas: true,
        enableTouch: true,
                      },

      // Author information
      presenters: [
            ]
    };
  </script>

  <link href="site_libs/ioslides-13.5.1/fonts/fonts.css" rel="stylesheet" />
  <link href="site_libs/ioslides-13.5.1/theme/css/default.css" rel="stylesheet" />
  <link href="site_libs/ioslides-13.5.1/theme/css/phone.css" rel="stylesheet" />
  <script src="site_libs/ioslides-13.5.1/js/modernizr.custom.45394.js"></script>
  <script src="site_libs/ioslides-13.5.1/js/prettify/prettify.js"></script>
  <script src="site_libs/ioslides-13.5.1/js/prettify/lang-r.js"></script>
  <script src="site_libs/ioslides-13.5.1/js/prettify/lang-yaml.js"></script>
  <script src="site_libs/ioslides-13.5.1/js/hammer.js"></script>
  <script src="site_libs/ioslides-13.5.1/js/slide-controller.js"></script>
  <script src="site_libs/ioslides-13.5.1/js/slide-deck.js"></script>

  <style type="text/css">

    b, strong {
      font-weight: bold;
    }

    em {
      font-style: italic;
    }

    summary {
      display: list-item;
    }

    slides > slide {
      -webkit-transition: all 0.4s ease-in-out;
      -moz-transition: all 0.4s ease-in-out;
      -o-transition: all 0.4s ease-in-out;
      transition: all 0.4s ease-in-out;
    }

    .auto-fadein {
      -webkit-transition: opacity 0.6s ease-in;
      -webkit-transition-delay: 0.4s;
      -moz-transition: opacity 0.6s ease-in 0.4s;
      -o-transition: opacity 0.6s ease-in 0.4s;
      transition: opacity 0.6s ease-in 0.4s;
      opacity: 0;
    }

  </style>


</head>

<body style="opacity: 0">

<slides class="layout-widescreen">

  <slide class="title-slide segue nobackground">
        <!-- The content of this hgroup is replaced programmatically through the slide_config.json. -->
    <hgroup class="auto-fadein">
      <h1 data-config-title><!-- populated from slide_config.json --></h1>
      <h2 data-config-subtitle><!-- populated from slide_config.json --></h2>
      <p data-config-presenter><!-- populated from slide_config.json --></p>
          </hgroup>
  </slide>

<slide class=""><hgroup><h2>What are interactions?</h2></hgroup><article  id="what-are-interactions">

<ul>
<li>When the effect of one predictor depends on the levels of another</li>
</ul>

</article></slide><slide class=""><hgroup><h2>Example</h2></hgroup><article  id="example">

<ul>
<li>Y is a measure of health problems that we are predicting from measures of stress (X) and from social support (Z)</li>
<li>Suppose the relationship between stress and health depends on the level of social support</li>
<li>This would be an interaction – the relationship between one predictor (stress) and the outcome (health) varies as a function of another predictor (social support).</li>
</ul>

</article></slide><slide class=""><hgroup><h2>How can we visualize this association?</h2></hgroup><article  id="how-can-we-visualize-this-association">

<p><img src="3d.png" width="750" height="550"/></p>

</article></slide><slide class=""><hgroup><h2></h2></hgroup><article  id="section">

<p>\[ \hat{Y} = b_{0} + b_{1}X + b_{2}Z + b_{3}XZ \]</p>

<p><img src="interactions-7_files/figure-html/unnamed-chunk-1-1.png" width="720" /></p>

</article></slide><slide class=""><hgroup><h2>How can we visualize this association?</h2></hgroup><article  id="how-can-we-visualize-this-association-1">

<ul>
<li>2d?</li>
</ul>

<p><img src="interactions-7_files/figure-html/unnamed-chunk-4-1.png" width="720" /></p>

</article></slide><slide class=""><hgroup><h2>Outline</h2></hgroup><article  id="outline">

<ul>
<li>interpretation</li>
<li>centering</li>
<li>plotting</li>
</ul>

</article></slide><slide class=""><hgroup><h2></h2></hgroup><article  id="section-1">

<p>\[ \hat{Y} = b_{0} + b_{1}X + b_{2}Z + b_{3}XZ \]</p>

<ul>
<li>main effects and interaction effects</li>
<li>lower order terms and higher order term<br/><br> <br></li>
<li>higher order/interaction terms are created through multiplication</li>
</ul>

</article></slide><slide class=""><hgroup><h2>moderator variables</h2></hgroup><article  id="moderator-variables">

<p>\[ \hat{Y} = b_{0} + b_{1}X + b_{2}Z + b_{3}XZ \] \(\hat{Y} = b_{0} + b_{1}X\) at different levels of Z<br/><br> \(\hat{Y} = b_{0} + b_{1}Z\) at different levels of X</p>

<p><img src="interactions-7_files/figure-html/unnamed-chunk-5-1.png" width="720" /></p>

</article></slide><slide class=""><hgroup><h2>interpretation</h2></hgroup><article  id="interpretation">

<ul>
<li><p>With an interaction term, the main effects are now interpreted as regression of Y on X when Z = 0.</p></li>
<li><p>called conditional effects</p></li>
</ul>

<p>\[ \hat{Y} = b_{0} + b_{1}X + b_{2}Z + b_{3}XZ \]</p>

<ul>
<li><p>Need to get rid of the other X in the model, having z at zero is the only way to meaningfully interpert</p></li>
<li><p>0 is often meaningless in social science work</p></li>
</ul>

</article></slide><slide class=""><hgroup><h2>centering</h2></hgroup><article  id="centering">

<ul>
<li>&ldquo;de-mean&rdquo; your variable to 0<br/></li>
<li>remember, a linear transformation does not change association<br/></li>
<li>only changes interpretation (i.e. average value) for some coefficients</li>
</ul>

<pre class = 'prettyprint lang-r'>#dataset$X.c &lt;- scale(dataset$X, center = TRUE, scale = FALSE)</pre>

</article></slide><slide class=""><hgroup><h2>centering</h2></hgroup><article  id="centering-1">

<ul>
<li><p>without interactions, what changes if we center?</p></li>
<li><p>with interactios, what changes if we center?</p></li>
</ul>

</article></slide><slide class=""><hgroup><h2>interpret regression coeffificents</h2></hgroup><article  id="interpret-regression-coeffificents">

<ol>
<li>simple linear regression</li>
<li>dummy codes/effect codes</li>
<li>multiple regression</li>
<li>interactions (conditional effects)</li>
</ol>

</article></slide><slide class=""><hgroup><h2>plotting helps us interpret the association</h2></hgroup><article  id="plotting-helps-us-interpret-the-association">

<ul>
<li>we could plot 3d, but that works best when you have 2 variables</li>
<li>simpler to plot to 2d relationship</li>
<li>plot &ldquo;simple slopes&rdquo; at different values of moderator</li>
<li>typically a small, medium and large value</li>
<li>plus minus SD, clinicial cutoffs, meaningful divisions (degrees)</li>
</ul>

</article></slide><slide class=""><hgroup><h2></h2></hgroup><article  id="section-2">

<p><img src="interactions-7_files/figure-html/unnamed-chunk-7-1.png" width="720" /></p>

</article></slide><slide class=""><hgroup><h2>simple slopes with no interaction term</h2></hgroup><article  id="simple-slopes-with-no-interaction-term">

<ul>
<li>what is the equation for Y on X at differnt levels of Z?</li>
</ul>

<p>\[ \hat{Y} = b_{0} + b_{1}X + b_{2}Z  \]</p>

<p>\[ \hat{Y} = (b_{0} + b_{2}Z) + b_{1}X   \]</p>

<p>\[ \hat{Y} = (1.2 + .3Z) + .6X   \] \(\hat{Y} = 1.8 + .6X\) @ Z = 2<br/><br> \(\hat{Y} = 1.2 + .6X\) @ Z = 0<br/><br> \(\hat{Y} = .8 + .6X\) @ Z = -2</p>

</article></slide><slide class=""><hgroup><h2>simple slopes with interaction term</h2></hgroup><article  id="simple-slopes-with-interaction-term">

<p>\[ \hat{Y} = b_{0} + b_{1}X + b_{2}Z + b_{3}XZ \]</p>

<p>\[ \hat{Y} = (b_{0} + b_{2}Z) + (b_{1} + b_{3}Z)X \]</p>

</article></slide><slide class=""><hgroup><h2>simple slopes with interaction term</h2></hgroup><article  id="simple-slopes-with-interaction-term-1">

<p>\[ \hat{Y} = 1.2 + .6X + .3Z + .15XZ \] \[ \hat{Y} = (b_{0} + b_{2}Z) + (b_{1} + b_{3}Z)X \]</p>

<p>\[ \hat{Y} = (1.2 + .3Z) + (.6 + .15Z)X \] \(\hat{Y} = .3 + .15X\) @ -3<br/><br> \(\hat{Y} = 1.2 + .6X\) @ 0<br/><br> \(\hat{Y} = 2.1 + 1.05X\) @ 3</p>

</article></slide><slide class=""><hgroup><h2>To interpret output, you need to look at graphs</h2></hgroup><article  id="to-interpret-output-you-need-to-look-at-graphs">

<ul>
<li>a priori hypotheses not always correct</li>
<li>form of interaction meaningful in addition to whether there is an interaction</li>
<li>cannot easily tell by just looking at coefficients</li>
<li>simple slopes analyses can yeild additional hypothesis tests</li>
</ul>

</article></slide><slide class=""><hgroup><h2>errata</h2></hgroup><article  id="errata">

<ul>
<li>covariates?

<ul>
<li>do you need to center these?</li>
</ul></li>
<li>standardizing variables

<ul>
<li>must compute yourself!!!</li>
<li>reason is the interaction term is the cross product of standardized scores, not the standardized cross product<br/></li>
</ul></li>
<li>group variables?</li>
</ul>

</article></slide><slide class=""><hgroup><h2>nominal variables and interactions</h2></hgroup><article  id="nominal-variables-and-interactions">

<ul>
<li>How is GPA related to starting salary for Engineering, Business and Psych majors?</li>
</ul>

<p>\[ \hat{Y} = b_{0} + b_{1}D_{1} + b_{2}D_{2} + b_{3}GPA  \]</p>

<pre class = 'prettyprint lang-r'>contr.treatment(3)</pre>

<pre >##   2 3
## 1 0 0
## 2 1 0
## 3 0 1</pre>

<pre class = 'prettyprint lang-r'>##  psych = 1, business = 2 engineering = 3</pre>

<ul>
<li>what does this graph look like?</li>
</ul>

</article></slide><slide class=""><hgroup><h2>nominal variables and interactions</h2></hgroup><article  id="nominal-variables-and-interactions-1">

<p>\[ \hat{Y} = b_{0} + b_{1}D_{1} + b_{2}D_{2} + b_{3}GPA + b_{4}(D_{1} * GPA) + b_{5}(D_{2} * GPA)\]</p>

<ul>
<li>how do I interpret these terms?</li>
<li>what would this graph look like?</li>
</ul>

</article></slide><slide class=""><hgroup><h2>nominal variables and interactions</h2></hgroup><article  id="nominal-variables-and-interactions-2">

<p>\[ \hat{Y} = b_{0} + b_{1}D_{1} + b_{2}D_{2} + b_{3}GPA + b_{4}(D_{1} * GPA) + b_{5}(D_{2} * GPA)  \]</p>

<ul>
<li>what are the simple regression equations for each group? <br> psych: \(\hat{Y} = b_{0} + b_{3}GPA\)<br/>business: \(\hat{Y} = (b_{0} + b_{1}) + (b_{3} + b_{4})GPA\)<br/>engineering: \(\hat{Y} = (b_{0} + b_{2}) + (b_{3} + b_{5})GPA\)</li>
</ul>

</article></slide><slide class=""><hgroup><h2>simple slopes tests</h2></hgroup><article  id="simple-slopes-tests">

<ul>
<li>what if i wanted the simple slope of business?<br/></li>
<li>what if i wanted to test whether the slopes of buisness and engineering were different?<br/></li>
<li>what if I wanted to test the slope to the grand mean rather than to psych? what coefficients change (and what stay the same) in this case?</li>
</ul>

</article></slide><slide class=""><hgroup><h2>2-way and higher order interactions</h2></hgroup><article  id="way-and-higher-order-interactions">

<p>\[ \hat{Y} = b_{0} + b_{1}X + b_{2}Z + b_{3}W + b_{4}XZ + b_{5}XW + b_{6}ZW + b_{7}XZW \]</p>

</article></slide><slide class=""><hgroup><h2>4 way?</h2></hgroup><article  id="way">

<p>\[ \hat{Y} = b_{0} + b_{1}X + b_{2}Z + b_{3}W + b_{4}Q + b_{5}XW + b_{6}ZW + b_{7}XZ + b_{8}QX\] \[+ b_{9}QZ + b_{10}QW + b_{11}XZQ + b_{12}XZW + b_{13}XWQ + b_{14}ZWQ + b_{15}XZWQ  \]</p>

<p><img src="interactions%20pic.jpg" width="500" height="400"/></p>

</article></slide><slide class=""><hgroup><h2>if you must 3-way</h2></hgroup><article  id="if-you-must-3-way">

<ul>
<li>easier to do with a nominal moderating variable<br/></li>
<li>e.g., old vs young, tx vs control</li>
<li>then you graph 2 2-way interactions to interpret</li>
</ul>

</article></slide><slide class=""><hgroup><h2>post hoc analyses</h2></hgroup><article  id="post-hoc-analyses">

<ul>
<li>are the simple slopes different from 0?</li>
<li>is a pair of simple slopes different from one another?</li>
<li>what is the magnitude of the interaction?</li>
</ul>

</article></slide><slide class=""><hgroup><h2>are the simple slopes different from 0?</h2></hgroup><article  id="are-the-simple-slopes-different-from-0">

<p>Remember that the slope at any particular value is a combination of both b1 and b3 \[ \hat{Y} = (b_{0} + b_{2}Z) + (b_{1} + b_{3}Z)X \] \[ se_{b@z} = \sqrt{se_{b1}^2 + (2 * Z * cov_{b1b3})+ (Z^2 se_{b3}^2)}\] - covariance is for the coefficients</p>

<pre class = 'prettyprint lang-r'>library(broom)
tidy(vcov(mr.model.c))</pre>

<pre >## Warning: &#39;tidy.matrix&#39; is deprecated.
## See help(&quot;Deprecated&quot;)</pre>

<pre >## # A tibble: 4 x 5
##   .rownames           X.Intercept. Support.c  Anxiety.c Support.c.Anxiety.c
##   &lt;chr&gt;                      &lt;dbl&gt;     &lt;dbl&gt;      &lt;dbl&gt;               &lt;dbl&gt;
## 1 (Intercept)            0.0215     -0.00310  0.0000883          -0.00227  
## 2 Support.c             -0.00310     0.0247  -0.00531             0.00211  
## 3 Anxiety.c              0.0000883  -0.00531  0.00421            -0.0000600
## 4 Support.c:Anxiety.c   -0.00227     0.00211 -0.0000600           0.00154</pre>

</article></slide><slide class=""><hgroup><h2>are the simple slopes different from 0?</h2></hgroup><article  id="are-the-simple-slopes-different-from-0-1">

<p>\[ \hat{Y} = (b_{0} + b_{2}Z) + (b_{1} + b_{3}Z)X \] \[ t = \frac{(b_{1} + b_{3}Z)}{se_{b@z}}\] df = n-p-1</p>

</article></slide><slide class=""><hgroup><h2>Do the slopes of a pair of simple slopes differ from one another?</h2></hgroup><article  id="do-the-slopes-of-a-pair-of-simple-slopes-differ-from-one-another">

<ul>
<li>The interaction tests whether the slope 1 SD above differs from 1 SD below<br/></li>
<li>What about for categorical predictors?</li>
</ul>

</article></slide><slide class=""><hgroup><h2>what is the magnitude of the interaction?</h2></hgroup><article  id="what-is-the-magnitude-of-the-interaction">

</article></slide><slide class=""><hgroup><h2>graphing</h2></hgroup><article  id="graphing">

<ul>
<li>predict and do by hand</li>
<li>pequod</li>
<li>sjPlot</li>
<li>jtools</li>
<li>AMPSS shiny app, others..</li>
</ul>

</article></slide><slide class=""><hgroup><h2></h2></hgroup><article  id="section-3">

<pre class = 'prettyprint lang-r'>library(pequod)
int.model &lt;- lmres(Stress ~ Support.c* Anxiety.c, data = Multipleregression)
slope.1 &lt;- simpleSlope(int.model, pred=&quot;Support.c&quot;, mod1=&quot;Anxiety.c&quot;)
PlotSlope(slope.1)</pre>

<p><img src="interactions-7_files/figure-html/unnamed-chunk-10-1.png" width="720" /></p>

</article></slide><slide class=""><hgroup><h2></h2></hgroup><article  id="section-4">

<pre class = 'prettyprint lang-r'>library(sjPlot)
sjp.int(mr.model.c, 
        type = &quot;eff&quot;,
        mdrt.values = &quot;meansd&quot;,
        swap.pred = TRUE)</pre>

</article></slide><slide class=""><hgroup><h2></h2></hgroup><article  id="section-5">

<pre class = 'prettyprint lang-r'>support.c.values &lt;- range(Multipleregression$Support.c)
anxiety.c.values &lt;- c(-sd(Multipleregression$Anxiety.c), 0,
sd(Multipleregression$Support.c))
plot.data &lt;- expand.grid(Support.c = support.c.values, Anxiety.c = anxiety.c.values)
plot.data</pre>

<pre >##   Support.c Anxiety.c
## 1 -2.869767 -2.487176
## 2  2.902433 -2.487176
## 3 -2.869767  0.000000
## 4  2.902433  0.000000
## 5 -2.869767  1.092455
## 6  2.902433  1.092455</pre>

</article></slide><slide class=""><hgroup><h2></h2></hgroup><article  id="section-6">

<pre class = 'prettyprint lang-r'>plot.data$Stress &lt;- predict(mr.model.c, newdata=plot.data) 
plot.data$Anxiety.c &lt;- factor(plot.data$Anxiety.c, labels = c(&quot;-1SD&quot;, &quot;Mean&quot;, &quot;+1SD&quot;))
plot.data</pre>

<pre >##   Support.c Anxiety.c   Stress
## 1 -2.869767      -1SD 8.270609
## 2  2.902433      -1SD 0.426959
## 3 -2.869767      Mean 8.001637
## 4  2.902433      Mean 1.955738
## 5 -2.869767      +1SD 7.883496
## 6  2.902433      +1SD 2.627232</pre>

</article></slide><slide class=""><hgroup><h2></h2></hgroup><article  id="section-7">

<p><img src="interactions-7_files/figure-html/unnamed-chunk-14-1.png" width="720" /></p>

</article></slide><slide class=""><hgroup><h2></h2></hgroup><article  id="section-8">

<pre class = 'prettyprint lang-r'>library(jtools)</pre>

</article></slide><slide class=""><hgroup><h2>marginal effects, Johnson-Neyman, etc</h2></hgroup><article  id="marginal-effects-johnson-neyman-etc">

</article></slide><slide class=""><hgroup><h2>errata mark II</h2></hgroup><article  id="errata-mark-ii">

<ul>
<li>non linear associations can masquerade as interactions</li>
<li>should test whether polynomial interactions serve as a more simplistic explanation</li>
</ul>

</article></slide><slide class=""><hgroup><h2>polynomial regression</h2></hgroup><article  id="polynomial-regression">

<ul>
<li>Linear lines often make bad predictions</li>
<li>Some relationships are not linear (weight and height across lifespan)</li>
<li>Sort of poor to model non linear data but useful to kno</li>
</ul>

</article></slide><slide class=""><hgroup><h2>polynomial regression</h2></hgroup><article  id="polynomial-regression-1">

<ul>
<li>contain a series of higher order function for a single variable<br/><br> Linear \(\hat{Y} = b_{0} + b_{1}X\)<br/><br> Quadratic \(\hat{Y} = b_{0} + b_{1}X + b_{2}X^2\)<br/><br> Cubic \(\hat{Y} = b_{0} + b_{1}X + b_{2}X^2 + b_{3}X^3\)</li>
</ul>

</article></slide><slide class=""><hgroup><h2></h2></hgroup><article  id="section-9">

<p><img src="interactions-7_files/figure-html/unnamed-chunk-16-1.png" width="720" /></p>

</article></slide><slide class=""><hgroup><h2></h2></hgroup><article  id="section-10">

<pre class = 'prettyprint lang-r'>library(broom)
tidy(quad)</pre>

<pre >## # A tibble: 3 x 5
##   term          estimate std.error statistic  p.value
##   &lt;chr&gt;            &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
## 1 (Intercept)  40.4      2.74          14.7  5.23e-15
## 2 hp           -0.213    0.0349        -6.11 1.16e- 6
## 3 I(hp^2)       0.000421 0.0000984      4.27 1.89e- 4</pre>

</article></slide><slide class=""><hgroup><h2>when to fit?</h2></hgroup><article  id="when-to-fit">

<ul>
<li>theory</li>
<li>scatter plots</li>
<li>residual plot</li>
<li>safeguard</li>
</ul>

</article></slide><slide class=""><hgroup><h2>interpretation of coefficients</h2></hgroup><article  id="interpretation-of-coefficients">

<ul>
<li>intercept is predicted value when x = 0</li>
<li>The b1 coefficient is the tangent to the curve when X=0. + rate of change when x = 0

<ul>
<li>thus important to center</li>
</ul></li>
</ul>

<pre class = 'prettyprint lang-r'>mtcars2$hp.c &lt;- scale(mtcars2$hp, center = TRUE, scale = FALSE)
mtcars2$hp.c &lt;- as.numeric(mtcars2$hp.c)
quad.c &lt;- lm(mpg ~ hp.c + I(hp.c^2), data = mtcars2)
tidy(quad.c)</pre>

<pre >## # A tibble: 3 x 5
##   term          estimate std.error statistic  p.value
##   &lt;chr&gt;            &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
## 1 (Intercept)  18.2      0.705         25.8  1.53e-21
## 2 hp.c         -0.0899   0.00952       -9.44 2.39e-10
## 3 I(hp.c^2)     0.000421 0.0000984      4.27 1.89e- 4</pre>

</article></slide><slide class=""><hgroup><h2></h2></hgroup><article  id="section-11">

<p><img src="interactions-7_files/figure-html/unnamed-chunk-19-1.png" width="720" /></p>

</article></slide><slide class=""><hgroup><h2></h2></hgroup><article  id="section-12">

<ul>
<li>The b2 coefficient is the acceleration</li>
<li>More specifically, 2*b2 is the acceleration – the rate of change in b1 for a 1-unit change in X</li>
</ul>

<p><br> b1+2*b2X = slope of tangent line at a particular value of X</p>

<pre class = 'prettyprint lang-r'> -0.0898514747 + 2*0.0004208156*106.75</pre>

<pre >## [1] -7.3441e-06</pre>

<pre class = 'prettyprint lang-r'> -0.0898514747 + 2*0.0004208156*180</pre>

<pre >## [1] 0.06164214</pre></article></slide>


  <slide class="backdrop"></slide>

</slides>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

<!-- map slide visiblity events into shiny -->
<script>
  (function() {
    if (window.jQuery) {
       window.jQuery(document).on('slideleave', function(e) {
         window.jQuery(e.target).trigger('hidden');
      });
       window.jQuery(document).on('slideenter', function(e) {
         window.jQuery(e.target).trigger('shown');
      });
    }
  })();
</script>

</body>
</html>
